
// 获取下一个数字
// 该函数的目的是计算给定数字x的下一个数字，根据特定规则：将x的每个数字取出，平方后相加
// 参数：
//   x - 当前数字
// 返回值：
//   计算得到的下一个数字
int getNext(int x)
{
    // 初始化累加变量y为0
    int y = 0;
    // 当x不为0时，循环继续
    while(x)
    {
        // 取出x的最后一位数字，并计算其平方
        int d = x % 10;
        // 将平方结果累加到y中
        y += d * d;
        // x除以10，丢弃最后一位数字
        x /= 10;
    }
    // 返回计算得到的下一个数字
    return y;
}

/**
 * 判断一个数是否为快乐数。
 * 
 * @param n 待判断的整数
 * @return 如果n是快乐数，返回true；否则返回false。
 * 
 * 快乐数定义：对于一个正整数，将其每个位上的数字平方后相加，
 * 重复这个过程，最终得到1的数为快乐数。如果在一个循环中重复出现相同的数字，
 * 则说明不是快乐数。
 */
bool isHappy(int n)
{
    // 初始化两个指针p和q，都指向初始数n
    int p = n, q = n;
    // 移动指针p一步
    p = getNext(p);
    // 移动指针q两步
    q = getNext(getNext(q));
    // 如果p和q相遇，且不是1，说明进入循环，不是快乐数
    if(p == q && p != 1)
    {
        return false;
    }
    // 如果没有相遇，说明是快乐数
    return true;
}